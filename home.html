<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/home/home.css" />
    <title>Trang Quản Lý</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="container">
      <div class="navigation">
        <ul>
          <li>
            <a href="#">
              <!-- <img src="./asset/img/logo.png" alt="" class="logo_main"> -->
            </a>
          </li>
          <li>
            <a href="index.html">
              <span class="icon"
                ><i class="fa-solid fa-house sidebar_left--icon"></i
              ></span>
              <span class="title">Trang chủ</span>
            </a>
          </li>
          <li>
            <a href="phahe.html">
              <span class="icon"><i class="fa-solid fa-users"></i></span>
              <span class="title">Quản lí phả hệ</span>
            </a>
          </li>
          <li>
            <a href="#">
              <span class="icon"
                ><i class="fa-solid fa-book-bookmark"></i
              ></span>
              <span class="title">Quản lí phả ký</span>
            </a>
          </li>
          <li>
            <a href="phado.html">
              <span class="icon"
                ><i class="fa-solid fa-network-wired sidebar_left--icon"></i
              ></span>
              <span class="title">Quản lí phả đồ</span>
            </a>
          </li>
          <li>
            <a href="ngoaipha.html">
              <span class="icon"
                ><i class="fa-solid fa-book-open-reader"></i
              ></span>
              <span class="title">Ngoại phả</span>
            </a>
          </li>
          <li>
            <a href="phukhao.html">
              <span class="icon"
                ><i class="fa-solid fa-house-chimney"></i
              ></span>
              <span class="title">Phụ khảo</span>
            </a>
          </li>
          <li>
            <a href="hinhanh.html">
              <span class="icon"><i class="fa-solid fa-images"></i></span>
              <span class="title">Hình ảnh</span>
            </a>
          </li>
          <li>
            <a href="congduc.html">
              <span class="icon"><i class="fa-solid fa-toolbox"></i></span>
              <span class="title">Công đức</span>
            </a>
          </li>
          <li>
            <a
              onclick="handleLogout()"
              class="logout-btn"
              style="cursor: pointer"
            >
              <span class="icon"
                ><i class="fa-solid fa-right-to-bracket"></i
              ></span>
              <span class="title">Đăng xuất tài khoản</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main">
      <div class="topbar">
        <div class="toggle">
          <i class="fa-solid fa-bars"></i>
        </div>
        <div class="search">
          <label for="">
            <input type="text" placeholder="Tìm kiếm" />
            <i class="fa-solid fa-magnifying-glass"></i>
          </label>
        </div>
        <div class="user"></div>
      </div>
      <div class="main_content">
        <div class="dashboard-stats">
          <div class="stat-card stat-users">
            <div class="stat-title">Tổng số User</div>
            <div class="stat-value" id="userCount">0</div>
            <div class="stat-desc">Tài khoản đã đăng ký</div>
            <canvas id="userChart" height="80"></canvas>
          </div>
          <div class="stat-card stat-families">
            <div class="stat-title">Tổng số Dòng họ</div>
            <div class="stat-value" id="familyCount">0</div>
            <div class="stat-desc">Dòng họ đã tạo</div>
            <canvas id="familyChart" height="80"></canvas>
          </div>
          <div class="stat-card stat-online">
            <div class="stat-title">Đang Online</div>
            <div class="stat-value" id="onlineCount">0</div>
            <div class="stat-desc">Người dùng đang hoạt động</div>
            <canvas id="onlineChart" height="80"></canvas>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./js/auth/auth.js"></script>
    <script src="./js/main.js"></script>
    <script type="module" src="./asset/js/login.js"></script>
    <script type="module" src="./js/home/home.js"></script>
    <script>
      function handleLogout() {
        // Xóa tất cả dữ liệu liên quan đến người dùng khỏi localStorage
        localStorage.removeItem("userToken");
        localStorage.removeItem("userId");
        localStorage.removeItem("userRole");
        localStorage.removeItem("userData");
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>
